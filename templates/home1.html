<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Management System </title>
    <link rel="stylesheet" href="/static/css/home.css">
</head>

<body>
    <div class="topnav" id="myTopnav">
        <!-- <img src="/static/images/hacker.png" class="user-pic" onclick="toggleMenu()"> -->
        <h3>Attendance Management System</h3>
        <a  id = "check" href="#home">Home</a>
        <a id = "output4" herf="#output">face data</a>
        <a href="#contact">Contact</a>
        <a href="#about">About</a>
        <a>{{username}}</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            &#9776;
            <i class="fa fa-home"></i>
        </a>

    </div>
 
    <p id = "output"></p>
    

      
    <div class="row text-center" style="padding: 20px;margin: 20px;">
        <div class="col"
            style="border-radius: 20px;padding: 0px;background-color:rgb(211,211,211,0.5);margin:0px 10px 10px 10px;min-height: 400px;">
            <h2>Today's Attendance Assignment</h2>
            <table style="background-color: white;">
                    {%if livedata %}
                    {% for i in livedata %}
                    <tr>
                        <td>{{i[0]}}</td>
                        <td>{{i[1]}}</td>
                        <!-- <td>{{i[2]}}</td> -->
                        <td><button class = "show-div">Give Attendance></button></td>
                    </tr>
                    {% endfor %}
                    {% endif %}
                
            </table>
        </div>
    </div>
        <script>
            function ShowDiv() {
                document.getElementById("face-cam").style.display = "";
            }
            function myFunction() {
                var x = document.getElementById("myTopnav");
                if (x.className === "topnav") {
                    x.className += " responsive";
                    // document.getElementsByTagName('h3').display='none';
                } else {
                    x.className = "topnav";

                }
                // document.getElementsByTagName('h3').style.display="None";
            }</script>
</body>
<script>
    document.getElementById("output4").addEventListener("click",function(){
        document.getElementById('output').innerHTML = '<div id = "my-div" style="justify-content: center; display: block; margin-top: 30px;"><img id="img-div" src="{{ url_for("face") }}"></div><br><button id="output6" type="submit">Submit Face Data</button>'
        document.getElementById("output6").addEventListener("click",function(){
        document.getElementById('output6').innerHTML = '<img  src="{{ url_for("train") }}" alt="wait..."/>'
        
        setTimeout(() => {  location.reload(); }, 3000);
        // 

      
    })
    })
    var elements= document.getElementsByClassName("show-div")
    for(var i = 0; i < elements.length; i++){
        elements[i].addEventListener("click",function(){
        document.getElementById('output').innerHTML = '<div id = "my-div" style="justify-content: center; display: block; margin-top: 30px;"><img id="img-div" src="{{ url_for("validation") }}"></div><br><button id = "output1">Close </button>'
        document.getElementById("output1").addEventListener("click",function(){
        // document.getElementById('output').innerHTML = 'Close'
        location.reload();
      
    })
    })}
    
 </script>
</html>